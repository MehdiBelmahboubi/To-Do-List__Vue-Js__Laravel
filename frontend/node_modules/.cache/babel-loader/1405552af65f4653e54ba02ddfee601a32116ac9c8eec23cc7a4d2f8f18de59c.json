{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, vModelCheckbox as _vModelCheckbox, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"task-container\"\n};\nconst _hoisted_2 = {\n  class: \"task-header\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"task-form\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = {\n  class: \"form-actions\"\n};\nconst _hoisted_7 = [\"disabled\"];\nconst _hoisted_8 = {\n  key: 1,\n  class: \"loading\"\n};\nconst _hoisted_9 = {\n  key: 2,\n  class: \"empty-state\"\n};\nconst _hoisted_10 = {\n  key: 3,\n  class: \"task-list\"\n};\nconst _hoisted_11 = {\n  class: \"task-info\"\n};\nconst _hoisted_12 = {\n  key: 0\n};\nconst _hoisted_13 = {\n  class: \"task-actions\"\n};\nconst _hoisted_14 = [\"checked\", \"onChange\"];\nconst _hoisted_15 = [\"onClick\"];\nconst _hoisted_16 = [\"onClick\"];\nconst _hoisted_17 = {\n  key: 4,\n  class: \"modal\"\n};\nconst _hoisted_18 = {\n  class: \"modal-content\"\n};\nconst _hoisted_19 = {\n  class: \"form-group\"\n};\nconst _hoisted_20 = {\n  class: \"form-group\"\n};\nconst _hoisted_21 = {\n  class: \"form-group\"\n};\nconst _hoisted_22 = {\n  class: \"form-actions\"\n};\nconst _hoisted_23 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[8] || (_cache[8] = _createElementVNode(\"h2\", null, \"Mes Tâches\", -1 /* CACHED */)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.showAddForm = true),\n    class: \"btn-primary\"\n  }, \" Ajouter une tâche \")]), _createCommentVNode(\" Formulaire d'ajout \"), $setup.showAddForm ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[11] || (_cache[11] = _createElementVNode(\"h3\", null, \"Nouvelle tâche\", -1 /* CACHED */)), _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.handleAddTask, [\"prevent\"])\n  }, [_createElementVNode(\"div\", _hoisted_4, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"title\"\n  }, \"Titre\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"title\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.newTask.title = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newTask.title]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    for: \"description\"\n  }, \"Description\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"description\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.newTask.description = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.newTask.description]])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $setup.taskStore.loading\n  }, \" Ajouter \", 8 /* PROPS */, _hoisted_7), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[3] || (_cache[3] = $event => $setup.showAddForm = false)\n  }, \" Annuler \")])], 32 /* NEED_HYDRATION */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Liste des tâches \"), $setup.taskStore.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, \"Chargement...\")) : $setup.taskStore.tasks.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \" Aucune tâche pour le moment \")) : (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.taskStore.tasks, task => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: task.id,\n      class: \"task-item\"\n    }, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"h3\", {\n      class: _normalizeClass({\n        completed: task.completed\n      })\n    }, _toDisplayString(task.title), 3 /* TEXT, CLASS */), task.description ? (_openBlock(), _createElementBlock(\"p\", _hoisted_12, _toDisplayString(task.description), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"input\", {\n      type: \"checkbox\",\n      checked: task.completed,\n      onChange: $event => $setup.toggleTaskCompletion(task)\n    }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_14), _createElementVNode(\"button\", {\n      onClick: $event => $setup.editTask(task),\n      class: \"btn-secondary\"\n    }, \" Modifier \", 8 /* PROPS */, _hoisted_15), _createElementVNode(\"button\", {\n      onClick: $event => $setup.deleteTask(task.id),\n      class: \"btn-danger\"\n    }, \" Supprimer \", 8 /* PROPS */, _hoisted_16)])]);\n  }), 128 /* KEYED_FRAGMENT */))])), _createCommentVNode(\" Modal d'édition \"), $setup.editingTask ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_cache[15] || (_cache[15] = _createElementVNode(\"h3\", null, \"Modifier la tâche\", -1 /* CACHED */)), _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.handleUpdateTask, [\"prevent\"])\n  }, [_createElementVNode(\"div\", _hoisted_19, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    for: \"edit-title\"\n  }, \"Titre\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"edit-title\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.editingTask.title = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.editingTask.title]])]), _createElementVNode(\"div\", _hoisted_20, [_cache[13] || (_cache[13] = _createElementVNode(\"label\", {\n    for: \"edit-description\"\n  }, \"Description\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"edit-description\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.editingTask.description = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.editingTask.description]])]), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"label\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $setup.editingTask.completed = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $setup.editingTask.completed]]), _cache[14] || (_cache[14] = _createTextVNode(\" Complétée \", -1 /* CACHED */))])]), _createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    disabled: $setup.taskStore.loading\n  }, \" Modifier \", 8 /* PROPS */, _hoisted_23), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[7] || (_cache[7] = $event => $setup.editingTask = null)\n  }, \" Annuler \")])], 32 /* NEED_HYDRATION */)])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onClick","_cache","$event","$setup","showAddForm","_createCommentVNode","_hoisted_3","onSubmit","_withModifiers","handleAddTask","_hoisted_4","for","type","id","newTask","title","required","_hoisted_5","description","_hoisted_6","disabled","taskStore","loading","_hoisted_7","_hoisted_8","tasks","length","_hoisted_9","_hoisted_10","_Fragment","_renderList","task","key","_hoisted_11","_normalizeClass","completed","_hoisted_12","_toDisplayString","_hoisted_13","checked","onChange","toggleTaskCompletion","editTask","_hoisted_15","deleteTask","_hoisted_16","editingTask","_hoisted_17","_hoisted_18","handleUpdateTask","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23"],"sources":["C:\\Project\\To-Do List\\frontend\\src\\components\\TaskList.vue"],"sourcesContent":["<template>\r\n  <div class=\"task-container\">\r\n    <div class=\"task-header\">\r\n      <h2>Mes Tâches</h2>\r\n      <button @click=\"showAddForm = true\" class=\"btn-primary\">\r\n        Ajouter une tâche\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Formulaire d'ajout -->\r\n    <div v-if=\"showAddForm\" class=\"task-form\">\r\n      <h3>Nouvelle tâche</h3>\r\n      <form @submit.prevent=\"handleAddTask\">\r\n        <div class=\"form-group\">\r\n          <label for=\"title\">Titre</label>\r\n          <input\r\n            type=\"text\"\r\n            id=\"title\"\r\n            v-model=\"newTask.title\"\r\n            required\r\n          >\r\n        </div>\r\n        \r\n        <div class=\"form-group\">\r\n          <label for=\"description\">Description</label>\r\n          <textarea\r\n            id=\"description\"\r\n            v-model=\"newTask.description\"\r\n          ></textarea>\r\n        </div>\r\n        \r\n        <div class=\"form-actions\">\r\n          <button type=\"submit\" :disabled=\"taskStore.loading\">\r\n            Ajouter\r\n          </button>\r\n          <button type=\"button\" @click=\"showAddForm = false\">\r\n            Annuler\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n    <!-- Liste des tâches -->\r\n    <div v-if=\"taskStore.loading\" class=\"loading\">Chargement...</div>\r\n    \r\n    <div v-else-if=\"taskStore.tasks.length === 0\" class=\"empty-state\">\r\n      Aucune tâche pour le moment\r\n    </div>\r\n    \r\n    <div v-else class=\"task-list\">\r\n      <div v-for=\"task in taskStore.tasks\" :key=\"task.id\" class=\"task-item\">\r\n        <div class=\"task-info\">\r\n          <h3 :class=\"{ completed: task.completed }\">{{ task.title }}</h3>\r\n          <p v-if=\"task.description\">{{ task.description }}</p>\r\n        </div>\r\n        \r\n        <div class=\"task-actions\">\r\n          <input\r\n            type=\"checkbox\"\r\n            :checked=\"task.completed\"\r\n            @change=\"toggleTaskCompletion(task)\"\r\n          >\r\n          <button @click=\"editTask(task)\" class=\"btn-secondary\">\r\n            Modifier\r\n          </button>\r\n          <button @click=\"deleteTask(task.id)\" class=\"btn-danger\">\r\n            Supprimer\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Modal d'édition -->\r\n    <div v-if=\"editingTask\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <h3>Modifier la tâche</h3>\r\n        <form @submit.prevent=\"handleUpdateTask\">\r\n          <div class=\"form-group\">\r\n            <label for=\"edit-title\">Titre</label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"edit-title\"\r\n              v-model=\"editingTask.title\"\r\n              required\r\n            >\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label for=\"edit-description\">Description</label>\r\n            <textarea\r\n              id=\"edit-description\"\r\n              v-model=\"editingTask.description\"\r\n            ></textarea>\r\n          </div>\r\n          \r\n          <div class=\"form-group\">\r\n            <label>\r\n              <input\r\n                type=\"checkbox\"\r\n                v-model=\"editingTask.completed\"\r\n              >\r\n              Complétée\r\n            </label>\r\n          </div>\r\n          \r\n          <div class=\"form-actions\">\r\n            <button type=\"submit\" :disabled=\"taskStore.loading\">\r\n              Modifier\r\n            </button>\r\n            <button type=\"button\" @click=\"editingTask = null\">\r\n              Annuler\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useTaskStore } from '@/stores/tasks'\r\n\r\nconst taskStore = useTaskStore()\r\n\r\nconst showAddForm = ref(false)\r\nconst editingTask = ref(null)\r\nconst newTask = ref({\r\n  title: '',\r\n  description: '',\r\n  completed: false\r\n})\r\n\r\nonMounted(() => {\r\n  taskStore.fetchTasks()\r\n})\r\n\r\nconst handleAddTask = async () => {\r\n  try {\r\n    await taskStore.addTask(newTask.value)\r\n    newTask.value = { title: '', description: '', completed: false }\r\n    showAddForm.value = false\r\n  } catch (error) {\r\n    console.error('Error adding task:', error)\r\n  }\r\n}\r\n\r\nconst editTask = (task) => {\r\n  editingTask.value = { ...task }\r\n}\r\n\r\nconst handleUpdateTask = async () => {\r\n  try {\r\n    await taskStore.updateTask(editingTask.value.id, editingTask.value)\r\n    editingTask.value = null\r\n  } catch (error) {\r\n    console.error('Error updating task:', error)\r\n  }\r\n}\r\n\r\nconst toggleTaskCompletion = async (task) => {\r\n  try {\r\n    await taskStore.updateTask(task.id, {\r\n      ...task,\r\n      completed: !task.completed\r\n    })\r\n  } catch (error) {\r\n    console.error('Error toggling task:', error)\r\n  }\r\n}\r\n\r\nconst deleteTask = async (taskId) => {\r\n  if (confirm('Êtes-vous sûr de vouloir supprimer cette tâche ?')) {\r\n    try {\r\n      await taskStore.deleteTask(taskId)\r\n    } catch (error) {\r\n      console.error('Error deleting task:', error)\r\n    }\r\n  }\r\n}\r\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}