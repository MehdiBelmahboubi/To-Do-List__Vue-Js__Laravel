{"ast":null,"code":"import { defineStore } from 'pinia';\nimport { ref } from 'vue';\nimport axios from 'axios';\nexport const useAuthStore = defineStore('auth', () => {\n  const user = ref(null);\n  const token = ref(localStorage.getItem('token'));\n  if (token.value) {\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token.value}`;\n  }\n  const setToken = newToken => {\n    token.value = newToken;\n    localStorage.setItem('token', newToken);\n    axios.defaults.headers.common['Authorization'] = `Bearer ${newToken}`;\n  };\n  const setUser = userData => {\n    user.value = userData;\n  };\n  const logout = () => {\n    user.value = null;\n    token.value = null;\n    localStorage.removeItem('token');\n    delete axios.defaults.headers.common['Authorization'];\n  };\n  return {\n    user,\n    token,\n    setToken,\n    setUser,\n    logout\n  };\n});","map":{"version":3,"names":["defineStore","ref","axios","useAuthStore","user","token","localStorage","getItem","value","defaults","headers","common","setToken","newToken","setItem","setUser","userData","logout","removeItem"],"sources":["C:/Project/To-Do List/frontend/src/stores/auth.js"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { ref } from 'vue'\r\nimport axios from 'axios'\r\n\r\nexport const useAuthStore = defineStore('auth', () => {\r\n  const user = ref(null)\r\n  const token = ref(localStorage.getItem('token'))\r\n\r\n  if (token.value) {\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${token.value}`\r\n  }\r\n\r\n  const setToken = (newToken) => {\r\n    token.value = newToken\r\n    localStorage.setItem('token', newToken)\r\n    axios.defaults.headers.common['Authorization'] = `Bearer ${newToken}`\r\n  }\r\n\r\n  const setUser = (userData) => {\r\n    user.value = userData\r\n  }\r\n\r\n  const logout = () => {\r\n    user.value = null\r\n    token.value = null\r\n    localStorage.removeItem('token')\r\n    delete axios.defaults.headers.common['Authorization']\r\n  }\r\n\r\n  return {\r\n    user,\r\n    token,\r\n    setToken,\r\n    setUser,\r\n    logout\r\n  }\r\n})"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,GAAG,QAAQ,KAAK;AACzB,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,YAAY,GAAGH,WAAW,CAAC,MAAM,EAAE,MAAM;EACpD,MAAMI,IAAI,GAAGH,GAAG,CAAC,IAAI,CAAC;EACtB,MAAMI,KAAK,GAAGJ,GAAG,CAACK,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC;EAEhD,IAAIF,KAAK,CAACG,KAAK,EAAE;IACfN,KAAK,CAACO,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,UAAUN,KAAK,CAACG,KAAK,EAAE;EAC1E;EAEA,MAAMI,QAAQ,GAAIC,QAAQ,IAAK;IAC7BR,KAAK,CAACG,KAAK,GAAGK,QAAQ;IACtBP,YAAY,CAACQ,OAAO,CAAC,OAAO,EAAED,QAAQ,CAAC;IACvCX,KAAK,CAACO,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC,GAAG,UAAUE,QAAQ,EAAE;EACvE,CAAC;EAED,MAAME,OAAO,GAAIC,QAAQ,IAAK;IAC5BZ,IAAI,CAACI,KAAK,GAAGQ,QAAQ;EACvB,CAAC;EAED,MAAMC,MAAM,GAAGA,CAAA,KAAM;IACnBb,IAAI,CAACI,KAAK,GAAG,IAAI;IACjBH,KAAK,CAACG,KAAK,GAAG,IAAI;IAClBF,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC;IAChC,OAAOhB,KAAK,CAACO,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,eAAe,CAAC;EACvD,CAAC;EAED,OAAO;IACLP,IAAI;IACJC,KAAK;IACLO,QAAQ;IACRG,OAAO;IACPE;EACF,CAAC;AACH,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}